<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Auto Valuation Engine – MarkovFlx</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
    body { font-family: Inter, sans-serif; background:#0b0f19; color:#eee; padding:25px;}
    input { padding:10px; width:250px; border-radius:8px; border:1px solid #23304a; background:#101526; color:white;}
    button { padding:10px 20px; background:#4cc9f0; border:none; color:black; font-weight:700; border-radius:8px; margin-left:10px; cursor:pointer;}
    .card { background:#141a2e; padding:20px; border-radius:12px; border:1px solid #1f2940; margin-top:20px; }
    pre { background:#0e1320; padding:20px; border-radius:12px; white-space:pre-wrap; }
</style>
</head>
<body>

<h1>1-Click Stock Valuation (MarkovFlx)</h1>

<input id="ticker" placeholder="AAPL, TSLA, NVDA">
<button onclick="runAutoValuation()">Value</button>

<div id="status"></div>
<pre id="output"></pre>

<script>
async function runAutoValuation(){
    const symbol = document.getElementById("ticker").value.toUpperCase();
    document.getElementById("status").textContent = "Fetching data…";
<script>
async function runAutoValuation(){
  const symbol = document.getElementById("tickerInput").value.trim().toUpperCase();
  if(!symbol){ alert("Enter a ticker"); return; }
  const apiUrl = `https://financialmodelingprep.com/api/v3/profile/${symbol}?apikey=WXZO5r7m1tICZmJU5Zkw2MO4riDpMZJr`;
  try {
    const res = await fetch(apiUrl);
    if(!res.ok) throw new Error("API error");
    const data = await res.json();
    document.getElementById("output").textContent = JSON.stringify(data, null, 2);
  } catch (err) {
    document.getElementById("output").textContent = "Could not fetch data.";
  }
}
</script>        const finalValue =
            0.55*dcf +
            0.30*multiplesValue +
            0.15*assetsValue;

        const perShare = finalValue / shares;

        // -----------------------------
        // OUTPUT
        // -----------------------------
        document.getElementById("status").textContent = "";
        document.getElementById("output").textContent =
`AUTO VALUATION FOR ${symbol}

Revenue (TTM): ${revenue.toLocaleString()}
EBITDA (TTM): ${ebitda.toLocaleString()}
Shares: ${shares.toLocaleString()}

Revenue Growth: ${(revGrowth*100).toFixed(2)}%
EBIT Margin: ${(ebitMargin*100).toFixed(2)}%
CapEx %: ${(capexPct*100).toFixed(2)}%
Depreciation %: ${(depPct*100).toFixed(2)}%
Working Capital %: ${(wcPct*100).toFixed(2)}%

WACC: ${(wacc*100).toFixed(2)}%

DCF Value: ${dcf.toFixed(2)}
Multiples Value: ${multiplesValue.toFixed(2)}
Asset Value: ${assetsValue.toFixed(2)}

-------------------------------------
FINAL VALUATION: ${finalValue.toFixed(2)}
PER SHARE VALUE: $${perShare.toFixed(2)}
-------------------------------------

(All inputs auto-filled, all modeling automatic)
`;
    }
    catch(e){
        document.getElementById("output").textContent = "Could not fetch data.";
    }
}
</script>

</body>
</html>

<script>
async function runAutoValuation(){
  const symbol = document.getElementById("tickerInput").value.trim().toUpperCase();
  const apiUrl = `https://financialmodelingprep.com/api/v3/profile/${symbol}?apikey=WXZO5r7m1tICZmJU5Zkw2MO4riDpMZJr`;
  try {
    const res = await fetch(apiUrl);
    if(!res.ok) throw new Error("API error");
    const data = await res.json();
    document.getElementById("output").textContent = JSON.stringify(data, null, 2);
  } catch(err){
    document.getElementById("output").textContent = "Could not fetch data.";
  }
}
</script>
